#---------------------------------------
# Story
#---------------------------------------
CAE_slot_6 = {
    slot = 6
    ai = yes

    potential = {
        tag = CAE
    }
    
    CAE_caesar_son_of_mars = {
		icon = mission_legion_cross
		required_missions = {  }
        
		trigger = {
            has_no_active_mission = yes
		}
		effect = {
            execute_event_in_5_years = { EVENT = mission_legion.1 }
 
            tooltip = {
                country_event = { id = mission_legion.1 days = 1800 }
            }
        }
	}
    CAE_alea_iacta_est = {
		icon = mission_legion_camp
		required_missions = { CAE_caesar_son_of_mars }
        
		trigger = {
            has_no_active_mission = yes
		}
		effect = {
            execute_event_in_5_years = { EVENT = mission_legion.2 }
            
            tooltip = {
                east_vegas_area = {
                    add_permanent_claim = ROOT
                }
            }
        }
	}
    CAE_jewel_of_new_vegas = {
		icon = mission_casino
		required_missions = { CAE_alea_iacta_est }
        
		trigger = {
            has_no_active_mission = yes
            owns_core_province = 267        # Hoover Dam
		}
		effect = {
            execute_event_in_5_years = { EVENT = mission_legion.17 }
            
            tooltip = {
                new_vegas_area = {
                    add_permanent_claim = ROOT
                }
            }
        }
	}
    
    # The Water Merchants
    #   completed jewel_of_new_vegas
    #   gain claim on the Hub
    
    # The Followers
    #   completed the_water_merchants
    #   gain claim on the boneyard
    
    # The Council
    #   completed the_followers
    #   gain claim on Shady Sands
    
    # Conqueror of California
    #   own shady_sands area
    #   completed the_council
    #   gain conqueror_of_california
    
}
CAE_slot_5 = {
    slot = 5
    ai = yes

    potential = {
        tag = CAE
    }
    
    CAE_the_howitzer = {
		icon = mission_artillery
        position = 3
		required_missions = { CAE_alea_iacta_est }
        
		trigger = {
            has_no_active_mission = yes
		}
		effect = {
            execute_event_in_5_years = { EVENT = mission_legion.3 }
            
            tooltip = {
                add_country_modifier = {
                    name = howitizer_firing_pin
                    duration = 3650
                }
            }
        }
	}
    CAE_subjugate_the_locals = {
		icon = mission_freeside
        position = 4
		required_missions = { CAE_jewel_of_new_vegas }
        
		trigger = {
            has_no_active_mission = yes
            owns_core_province = 1200        # New Vegas
		}
		effect = {
            execute_event_in_15_years = { EVENT = mission_legion.18 }
            
            tooltip = {
                north_vegas_area = {
                    add_permanent_claim = ROOT
                }
                goodsprings_area = {
                    add_permanent_claim = ROOT
                }
                helios_area = {
                    add_permanent_claim = ROOT
                }
                clark_area = {
                    add_permanent_claim = ROOT
                }
                nipton_area = {
                    add_permanent_claim = ROOT
                }
                boulder_city_area = {
                    add_permanent_claim = ROOT
                }
                black_mountain_area = {
                    add_permanent_claim = ROOT
                }
                west_vegas_area = {
                    add_permanent_claim = ROOT
                }
            }
        }
	}
}
CAE_slot_7 = {
    slot = 7
    ai = yes

    potential = {
        tag = CAE
    }
    
    CAE_born_into_slavery = {
		icon = mission_jail
        position = 3
		required_missions = { CAE_alea_iacta_est }
        
		trigger = {
            has_no_active_mission = yes
		}
		effect = {
            execute_event_in_5_years = { EVENT = mission_legion.4 }
            
            tooltip = {
                add_ruler_modifier = {
                    name = legion_birth 
                    duration = -1
                }
            }
        }
	}
    CAE_control_the_securitrons = {
		icon = mission_console
        position = 4
		required_missions = { CAE_jewel_of_new_vegas }
        
		trigger = {
            has_no_active_mission = yes
            NOT = { exists = NVG }
            owns_core_province = 1200        # New Vegas
		}
		effect = {
            execute_event_in_25_years = { EVENT = mission_legion.19 }
            
            tooltip = {
                custom_tooltip = TOOLTIP_CONQUERED_NEW_VEGAS
                hidden_effect = { set_country_flag = conquered_new_vegas }
            }
        }
	}
}

#---------------------------------------
# Conquest
#---------------------------------------
# Push into Utah - DED, SOR, WLS
CAE_slot_1 = {
    slot = 1
    ai = yes

    potential = {
        tag = CAE
    }
    
    CAE_push_into_utah = {
		icon = mission_zion
		required_missions = { }
        
		trigger = {
            mission_completed = CAE_caesar_son_of_mars
            NOT = { mission_completed = CAE_push_into_baja_california }
            NOT = { mission_completed = CAE_push_into_texas }
            NOT = { mission_completed = CAE_finish_colorado }
            has_no_active_mission = yes
		}
		effect = {
            if = {
                limit = {
                    OR = {  
                        exists = DED
                        exists = SOR
                        exists = WLS
                    }
                }
                execute_event_in_5_years = { EVENT = mission_legion.5 }
                
                tooltip = {
                    if = {
                        limit = {
                            exists = DED
                            NOT = { is_subject_of = ROOT }
                        }
                        add_casus_belli = {
                            target = DED
                            type = cb_vassalize_mission
                            months = 120
                        }
                    }
                    if = {
                        limit = {
                            exists = SOR
                            NOT = { is_subject_of = ROOT }
                        }
                        add_casus_belli = {
                            target = SOR
                            type = cb_vassalize_mission
                            months = 120
                        }
                    }
                    if = {
                        limit = {
                            exists = WLS
                            NOT = { is_subject_of = ROOT }
                        }
                        add_casus_belli = {
                            target = WLS
                            type = cb_vassalize_mission
                            months = 120
                        }
                    }
                }
            }
            else = {
                custom_tooltip = TOOLTIP_MISSION_SKIPPED
            }
        }
	}
    CAE_conquer_utah = {
		icon = mission_zion_2
		required_missions = { CAE_push_into_utah }
        
		trigger = {
            has_no_active_mission = yes
		}
		effect = {
            execute_event_in_15_years = { EVENT = mission_legion.9 }
            
            tooltip = {
                utah_region = {
                    add_permanent_claim = ROOT
                }
            }
        }
	}
    CAE_conquerer_of_utah = {
		icon = mission_legion_skeleton
		required_missions = { CAE_conquer_utah }
        
		trigger = {
            utah_region = {
                type = all
                OR = {
                    is_empty = yes
                    owned_by = ROOT
                }
            }
            has_no_active_mission = yes
		}
		effect = {
            execute_event_immediate = { EVENT = mission_legion.13 }

            tooltip = {
                add_country_modifier = {
                    name = conqueror_of_utah
                    duration = -1
                }
            }
        }
	}
}
# Push into Texas - MAL
CAE_slot_2 = {
    slot = 2
    ai = yes

    potential = {
        tag = CAE
    }
    
    CAE_push_into_texas = {
		icon = mission_legion_camp
		required_missions = { }
        
		trigger = {
            mission_completed = CAE_caesar_son_of_mars
            NOT = { mission_completed = CAE_push_into_utah }
            NOT = { mission_completed = CAE_push_into_baja_california }
            NOT = { mission_completed = CAE_finish_colorado }
            has_no_active_mission = yes
		}
		effect = {
            if = {
                limit = {
                    exists = MAL
                    NOT = { is_subject_of = ROOT }
                }
               
                execute_event_in_5_years = { EVENT = mission_legion.6 }
                
                tooltip = {
                    if = {
                        limit = {
                            exists = MAL
                            NOT = { is_subject_of = ROOT }
                        }
                        MAL = {
                            every_owned_province = {
                                add_permanent_claim = ROOT
                            }
                        }
                    }
                }
            }
            else = {
                custom_tooltip = TOOLTIP_MISSION_SKIPPED
            }
        }
	}
    CAE_conquer_texas = {
		icon = mission_wasteland_3
		required_missions = { CAE_push_into_texas }
        
		trigger = {
            has_no_active_mission = yes
		}
		effect = {
            execute_event_in_15_years = { EVENT = mission_legion.10 }
            
            tooltip = {
                texas_region = {
                    add_permanent_claim = ROOT
                }
            }
        }
	}
    CAE_conquerer_of_texas = {
		icon = mission_legion_skeleton
		required_missions = { CAE_conquer_texas }
        
		trigger = {
            texas_region = {
                type = all
                OR = {
                    is_empty = yes
                    owned_by = ROOT
                }
            }
            has_no_active_mission = yes
		}
		effect = {
            execute_event_immediate = { EVENT = mission_legion.14 }
            
            tooltip = {
                add_country_modifier = {
                    name = conqueror_of_texas
                    duration = -1
                }
            }
        }
	}
}
# Push into Colorado - IRR
CAE_slot_3 = {
    slot = 3
    ai = yes

    potential = {
        tag = CAE
    }
    
    CAE_finish_colorado = {
		icon = mission_hangers
		required_missions = { }
        
		trigger = {
            mission_completed = CAE_caesar_son_of_mars
            NOT = { mission_completed = CAE_push_into_utah }
            NOT = { mission_completed = CAE_push_into_texas }
            NOT = { mission_completed = CAE_push_into_baja_california }
            has_no_active_mission = yes
		}
		effect = {
            if = {
                limit = {
                    exists = IRR
                    NOT = { is_subject_of = ROOT }
                }
               
                execute_event_in_5_years = { EVENT = mission_legion.7 }
                
                tooltip = {
                    if = {
                        limit = {
                            exists = IRR
                            NOT = { is_subject_of = ROOT }
                        }
                        IRR = {
                            every_owned_province = {
                                add_permanent_claim = ROOT
                            }
                        }
                    }
                }
            }
            else = {
                custom_tooltip = TOOLTIP_MISSION_SKIPPED
            }
        }
	}
    CAE_conquer_kansas = {
		icon = mission_legion_fire
		required_missions = { CAE_finish_colorado }
        
		trigger = {
            has_no_active_mission = yes
		}
		effect = {
            execute_event_in_15_years = { EVENT = mission_legion.11 }
            
            tooltip = {
                kansas_region = {
                    add_permanent_claim = ROOT
                }
            }
        }
	}
    CAE_conquerer_of_kansas = {
		icon = mission_legion_skeleton
		required_missions = { CAE_conquer_kansas }
        
		trigger = {
            kansas_region = {
                type = all
                OR = {
                    is_empty = yes
                    owned_by = ROOT
                }
            }
            has_no_active_mission = yes
		}
		effect = {
            execute_event_immediate = { EVENT = mission_legion.15 }
            
            tooltip = {
                add_country_modifier = {
                    name = conqueror_of_kansas
                    duration = -1
                }
            }
        }
	}
}
# Push into Baja California - DRG
CAE_slot_4 = {
    slot = 4
    ai = yes

    potential = {
        tag = CAE
    }
    
    CAE_push_into_baja_california = {
		icon = mission_wasteland_2
		required_missions = { }
        
		trigger = {
            mission_completed = CAE_caesar_son_of_mars
            NOT = { mission_completed = CAE_push_into_utah }
            NOT = { mission_completed = CAE_push_into_texas }
            NOT = { mission_completed = CAE_finish_colorado }  
            has_no_active_mission = yes
		}
		effect = {
            if = {
                limit = {
                    exists = DRG
                    NOT = { is_subject_of = ROOT }
                }
               
                execute_event_in_5_years = { EVENT = mission_legion.8 }
                
                tooltip = {
                    if = {
                        limit = {
                            exists = DRG
                            NOT = { is_subject_of = ROOT }
                        }
                        DRG = {
                            every_owned_province = {
                                add_permanent_claim = ROOT
                            }
                        }
                    }
                }
            }
            else = {
                custom_tooltip = TOOLTIP_MISSION_SKIPPED
            }
        }
	}
    CAE_conquer_baja_california = {
		icon = mission_wasteland_3
		required_missions = { CAE_push_into_baja_california }
        
		trigger = {
            has_no_active_mission = yes
		}
		effect = {
            execute_event_in_15_years = { EVENT = mission_legion.12 }
            
            tooltip = {
                baja_california_region = {
                    add_permanent_claim = ROOT
                }
            }
        }
	}
    CAE_conquerer_of_baja_california = {
		icon = mission_legion_skeleton
		required_missions = { CAE_conquer_baja_california }
        
		trigger = {
            baja_california_region = {
                type = all
                OR = {
                    is_empty = yes
                    owned_by = ROOT
                }
            }
            has_no_active_mission = yes
		}
		effect = {
            execute_event_immediate = { EVENT = mission_legion.16 }
            
            tooltip = {
                add_country_modifier = {
                    name = conqueror_of_baja_california
                    duration = -1
                }
            }
        }
	}
}

#---------------------------------------
# Economy
#---------------------------------------
CAE_slot_8 = {
    slot = 8
    ai = yes

    potential = {
        tag = CAE
    }
    
    mission_8 = {
		icon = mission_jail
		required_missions = { }
        
		trigger = {
            mission_completed = CAE_caesar_son_of_mars
            has_no_active_mission = yes
		}
		effect = {
            hidden_effect = {
                #country_event = { id = mission_legion.4 days = 365 }
                set_country_flag = mission_active
            }
            
            custom_tooltip = TOOLTIP_MISSION_GRANTS_THIS_365
            
            tooltip = {
                
            }
        }
	}
}
CAE_slot_9 = {
    slot = 9
    ai = yes

    potential = {
        tag = CAE
    }
    
    mission_9 = {
		icon = mission_jail
		required_missions = { }
        
		trigger = {
            mission_completed = CAE_caesar_son_of_mars
            has_no_active_mission = yes
		}
		effect = {
            hidden_effect = {
                #country_event = { id = mission_legion.4 days = 365 }
                set_country_flag = mission_active
            }
            
            custom_tooltip = TOOLTIP_MISSION_GRANTS_THIS_365
            
            tooltip = {
                
            }
        }
	}
}

#---------------------------------------
# Military
#---------------------------------------
CAE_slot_10 = {
    slot = 10
    ai = yes

    potential = {
        tag = CAE
    }
    
    mission_10 = {
		icon = mission_jail
		required_missions = { }
        
		trigger = {
            mission_completed = CAE_caesar_son_of_mars
            has_no_active_mission = yes
		}
		effect = {
            hidden_effect = {
                #country_event = { id = mission_legion.4 days = 365 }
                set_country_flag = mission_active
            }
            
            custom_tooltip = TOOLTIP_MISSION_GRANTS_THIS_365
            
            tooltip = {
                
            }
        }
	}
}
CAE_slot_11 = {
    slot = 11
    ai = yes

    potential = {
        tag = CAE
    }
    
    mission_11 = {
		icon = mission_jail
		required_missions = { }
        
		trigger = {
            mission_completed = CAE_caesar_son_of_mars
            has_no_active_mission = yes
		}
		effect = {
            hidden_effect = {
                #country_event = { id = mission_legion.4 days = 365 }
                set_country_flag = mission_active
            }
            
            custom_tooltip = TOOLTIP_MISSION_GRANTS_THIS_365
            
            tooltip = {
                
            }
        }
	}
}
