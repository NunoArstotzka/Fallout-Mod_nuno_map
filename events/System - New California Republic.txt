namespace = ncr_government

# Make Emperor the NCR
country_event = {
	id = ncr_government.1
	title = ncr_government.1.title
	desc = ncr_government.1.desc
	picture = LEGION_CAMP_eventPicture
	
    hidden = yes
	
	trigger = { 
		is_emperor = yes
        is_part_of_hre = yes
        NOT = { has_reform = ncr_reform }
	}
    
    mean_time_to_happen = {
        days = 1
    }
    
	option = {
		name = ncr_government.1.option.a

        change_government_effect = {
            TYPE = ncr_government
            REFORM = ncr_reform
            LEGACY = ncr_legacy
        }
	}
}

# Make Member not NCR
country_event = {
	id = ncr_government.2
	title = ncr_government.1.title
	desc = ncr_government.1.desc
	picture = LEGION_CAMP_eventPicture
	
    hidden = yes
	
	trigger = { 
		is_emperor = no
        is_part_of_hre = yes
        has_reform = ncr_reform
	}
    
    mean_time_to_happen = {
        days = 1
    }
    
	option = {
		name = ncr_government.1.option.a

        # every_subject_country = {
            # limit = {
                # is_subject_of_type = ncr_territory
            # }
            # grant_independence = yes
        # }
        # # Do this here so it doesn't override
        # every_country = {
            # limit = {
                # is_part_of_hre = yes
                # is_emperor = no
                # is_elector = no
            # }
            # emperor = {
                # create_subject = {
                    # subject_type = ncr_territory
                    # subject = PREV
                # }
            # }
        # }
        
        change_government_effect = {
            TYPE = ncr_state_government
            REFORM = ncr_state_reform
            LEGACY = ncr_state_legacy
        }
	}
}

# Force Presidential Vote
country_event = {
	id = ncr_government.3
	title = ncr_government.1.title
	desc = ncr_government.1.desc
	picture = LEGION_CAMP_eventPicture
	
    is_triggered_only = yes
    hidden = yes
    
    trigger = {
        is_emperor = yes
        NOT = { has_country_flag = stop_elections }
    }
    
	option = {
		name = ncr_government.1.option.a

        exile_ruler_as = exiled_ruler
        country_event = { id = ncr_government.4 days = 1 }
	}
}

# Restore old President
country_event = {
	id = ncr_government.4
	title = ncr_government.1.title
	desc = ncr_government.1.desc
	picture = LEGION_CAMP_eventPicture
	
    is_triggered_only = yes
    hidden = yes
    
	option = {
		name = ncr_government.1.option.a

        set_ruler = exiled_ruler
	}
}

#--------------------------------
# IA Gain
#--------------------------------
# On successive President
country_event = {
	id = ncr_government.5
	title = ncr_government.5.title
	desc = ncr_government.5.desc
	picture = NCR_STATUE_eventPicture
	
    is_triggered_only = yes

	option = {
		name = ncr_government.5.option.a

        add_scaled_imperial_influence = 5
	}
}

# On defensive war
country_event = {
	id = ncr_government.6
	title = ncr_government.6.title
	desc = ncr_government.6.desc
	picture = NCR_STATUE_eventPicture
	
    is_triggered_only = yes

	option = {
		name = ncr_government.6.option.a

        add_scaled_imperial_influence = 10
	}
}

# On territory lost
country_event = {
	id = ncr_government.7
	title = ncr_government.7.title
	desc = ncr_government.7.desc
	picture = NCR_STATUE_eventPicture
	
    is_triggered_only = yes

	option = {
		name = ncr_government.7.option.a

        add_scaled_imperial_influence = -5
	}
}

# On member not supported in war
country_event = {
	id = ncr_government.8
	title = ncr_government.8.title
	desc = ncr_government.8.desc
	picture = NCR_STATUE_eventPicture
	
    is_triggered_only = yes

	option = {
		name = ncr_government.8.option.a

        add_scaled_imperial_influence = -10
	}
}

# On member supported in war
country_event = {
	id = ncr_government.9
	title = ncr_government.9.title
	desc = ncr_government.9.desc
	picture = NCR_STATUE_eventPicture
	
    is_triggered_only = yes

	option = {
		name = ncr_government.9.option.a

        add_scaled_imperial_influence = 5
	}
}

# Vassalize (Emperor)
country_event = {
	id = ncr_government.10
	title = ncr_government.10.title
	desc = ncr_government.10.desc
	picture = NCR_STATUE_eventPicture
	
    is_triggered_only = yes

	option = {
		name = ncr_government.10.option.a
	}
}

# Vassalize (Members)
country_event = {
	id = ncr_government.11
	title = ncr_government.11.title
	desc = ncr_government.11.desc
	picture = NCR_STATUE_eventPicture
	
    is_triggered_only = yes
	
	option = {
		name = ncr_government.11.option.a
        
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				will_back_next_reform = no
			}			
			
		}
		emperor = {
			vassalize = ROOT
		}
	}
	
	option = {
		name = ncr_government.11.option.b
        
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				will_back_next_reform = yes
			}			
			
		}
        
		every_owned_province = {
			limit = {
				is_part_of_hre = yes
			}
			add_claim = emperor
		}
		every_owned_province = {
			set_in_empire = no
		}
		emperor = {
			add_opinion = { who = ROOT modifier = opinion_left_empire }
		}
		add_opinion = { who = emperor modifier = opinion_united_empire }
		elector = no
	}
}

# Inherit (Emperor)
country_event = {
	id = ncr_government.12
	title = ncr_government.12.title
	desc = ncr_government.12.desc
	picture = USA_FLAG_eventPicture

	major = yes
	is_triggered_only = yes
	
	option = {
		name = ncr_government.12.option.a
        
		change_tag = NCR
        
		every_province = {
			limit = {
				is_part_of_hre = yes
				OR = {
					owned_by = ROOT
					owner = { is_neighbor_of = ROOT }
				}
				NOT = { is_core = ROOT }
			}
			add_core = emperor
		}
		every_country = {
			limit = {
				is_part_of_hre = yes
				is_emperor = no
				num_of_cities = 1
			}
			country_event = { id = ncr_government.13 }
		}
		dismantle_hre = yes
		set_government_rank = 3
		add_adm_power = 250
	}
}

country_event = {
	id = ncr_government.13
	title = ncr_government.13.title
	desc = ncr_government.13.desc
	picture = USA_FLAG_eventPicture

	is_triggered_only = yes
	
	option = {
		name = ncr_government.13.option.a
        
		NCR = {
			inherit = ROOT
		}
	}
}

# Force valid heir for NCR countries
country_event = {
	id = ncr_government.14
	title = ncr_government.14.title
	desc = ncr_government.14.desc
	picture = USA_FLAG_eventPicture

    trigger = {
        is_part_of_hre = yes
        OR = {
            has_reform = ncr_reform
            has_reform = ncr_state_reform
        }
        OR = {
            NOT = { has_heir = yes }
            NOT = { heir_age = 18 }
        }
    }
    hidden = yes
    
    mean_time_to_happen = {
        days = 1
    }
	
	option = {
		name = ncr_government.14.option.a
        
		define_heir = {
            age = 18
        }
	}
}