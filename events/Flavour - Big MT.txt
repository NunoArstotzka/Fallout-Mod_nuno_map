namespace = big_mountain
 
 # "A Shift in Focus" (Klein)
country_event = {
	id = big_mountain.1
	title = big_mountain.1.title
	desc = big_mountain.1.desc
	picture = HEXCRETE_ARCHIPELAGO_eventPicture
	
	fire_only_once = yes
	
	trigger = {
		OR = {
			tag = TNK 
			AND = {
				government = the_think_tank
				NOT = { tag = FBZ }
			}
		}
		NOT = { has_country_modifier = loboto_bmt }
		NOT = { has_country_modifier = cyberdog_bmt }
		NOT = { has_country_modifier = hvy_construction_bmt }
	}
	
    immediate = {
        hidden_effect = {
            if = { limit = { has_global_flag = enable_event_logging } log = "[Root.GetName] - big_mountain.1" }
        }
    }
    
	option = {	
		name = big_mountain.1.option.a		
		add_country_modifier = {
    		name =  loboto_bmt
    		duration = -1
		}
		
		ai_chance = {
		    factor = 70
		}
	}
	
	option = {	
		name = big_mountain.1.option.b	  	
		add_country_modifier = {
    		name =  cyberdog_bmt
    		duration = -1
		}
		
		ai_chance = {
		    factor = 20
		}
		
	}
	
	option = {	
		name = big_mountain.1.option.c		
		add_country_modifier = {
    		name =  hvy_construction_bmt
    		duration = -1
		}
		
		ai_chance = {
		    factor = 10
		}
	}
}

# "A Dogbowl of Psycho"
country_event = {
	id = big_mountain.2
	title = big_mountain.2.title
	desc = big_mountain.2.desc
	picture = HEXCRETE_ARCHIPELAGO_eventPicture
	
	fire_only_once = yes
	
	trigger = {
		has_country_modifier = cyberdog_bmt 
		any_owned_province = { trade_goods = drugs }
	}
	
	immediate = {
        hidden_effect = {
            if = { limit = { has_global_flag = enable_event_logging } log = "[Root.GetName] - big_mountain.2" }
        }
    }
    
	option = {	
		name = big_mountain.2.option.a	
		add_country_modifier = {
    		name =  cyberdog_psy
    		duration = 600 
		}
	}
}

# "X-8 research facility"
country_event = {
	id = big_mountain.3
	title = big_mountain.3.title
	desc = big_mountain.3.desc
	picture = HEXCRETE_ARCHIPELAGO_eventPicture
	
	fire_only_once = yes
	
	trigger = {
		has_country_modifier = cyberdog_bmt 
		owns_core_province = 4013
		NOT = { 
		    4013 = { 
			    has_province_modifier = cyberdog_facility
			}
		}
	}
	
    immediate = {
        hidden_effect = {
            if = { limit = { has_global_flag = enable_event_logging } log = "[Root.GetName] - big_mountain.3" }
        }
    }
    
	option = {	
		name = big_mountain.3.option.a	

		4013 = {
		    add_base_manpower = 3 
			add_permanent_province_modifier = {
    			name =  cyberdog_facility
    			duration = -1  
			}
		}
	}
}

# "Irregulaties amongst Lobotomites"
country_event = {
	id = big_mountain.4
	title = big_mountain.4.title
	desc = big_mountain.4.desc
	picture = HEXCRETE_ARCHIPELAGO_eventPicture
	
	fire_only_once = yes
	
	trigger = {
		has_country_modifier = loboto_bmt
		owns_core_province = 4014
		has_dlc = "Rights of Man"
		NOT = { 
		    4014 = { 
			    has_province_modifier = cuckoo_nest 
			}
		}
	}
	
    immediate = {
        hidden_effect = {
            if = { limit = { has_global_flag = enable_event_logging } log = "[Root.GetName] - big_mountain.4" }
        }
    }
    
	option = {	
		name = big_mountain.4.option.a	
		add_stability = -1 
		
		ai_chance = {
		    factor = 50
		}
	}	
	
	option = {	
		name = big_mountain.4.option.b	
		4014 = {
		    add_base_manpower = 3 
			add_base_production = 1
			add_base_tax = 1
			change_religion = fetishism
			add_permanent_province_modifier = {
    		    name = cuckoo_nest 
    		    duration = -1  
		    }
		}
		ai_chance = {
		    factor = 50
		}
	}

	option = {	
		name = big_mountain.4.option.c
		4014 = {
		    add_base_manpower = 3 
			add_base_production = 3
			add_base_tax = 3
			change_religion = fetishism
			add_permanent_province_modifier = {
    		    name =  cuckoo_nest 
    		    duration = -1  
		    }
		}
		4014 = {
		    add_base_manpower = 1
			add_base_production = 1
			add_base_tax = 1
			change_religion = fetishism
		}		
        change_religion = fetishism
		unlock_cult = tribal_toaster_worship
		
		ai_chance = {
		    factor = 0
		}
	}
}

# "Toaster Primacy"
country_event = {
	id = big_mountain.5
	title = big_mountain.5.title
	desc = big_mountain.5.desc
	picture = HEXCRETE_ARCHIPELAGO_eventPicture
	
	fire_only_once = yes
	
	trigger = {
		tag = TNK 
		has_country_modifier = loboto_bmt
		has_dlc = "Rights of Man"
		has_unlocked_cult = tribal_toaster_worship
		religion = fetishism
	}

	mean_time_to_happen = {
		months = 20 
	}	
	
    immediate = {
        hidden_effect = {
            if = { limit = { has_global_flag = enable_event_logging } log = "[Root.GetName] - big_mountain.5" }
        }
    }
    
	option = {	
		name = big_mountain.5.option.a	
		
		define_ruler = {
			name = "Toaster"
			dynasty = ""
		    adm = 3
		    dip = 2
		    mil = 6			
		}
        add_ruler_personality = immortal_personality
		if = {
			limit = {
				has_heir = yes
			}
			kill_heir = yes
		}
		
		ai_chance = {
		    factor = 0
		}
	}
	
	option = {	
		name = big_mountain.5.option.b	
		add_stability = -1 
		
		ai_chance = {
		    factor = 10
		}
	}
}

# "Hexcrete Constructions"
country_event = {
	id = big_mountain.6
	title = big_mountain.6.title
	desc = big_mountain.6.desc
	picture = HEXCRETE_ARCHIPELAGO_eventPicture
	
	fire_only_once = yes
	
	trigger = {
		has_country_modifier = hvy_construction_bmt
		owns_core_province = 4012
		NOT = { has_global_flag = hvy_hex_bld }
	}

	mean_time_to_happen = {
		months = 12
	}	
	
    immediate = {
        hidden_effect = {
            if = { limit = { has_global_flag = enable_event_logging } log = "[Root.GetName] - big_mountain.6" }
        }
    }
    
	option = {	
		name = big_mountain.6.option.a	
		4012 = {
		    add_permanent_province_modifier = {
    		    name =  exper_dev_one
    		    duration = -1  
		    }
		}
		
		ai_chance = {
		    factor = 80
		}
	}	
	
	option = {	
		name = big_mountain.6.option.b	
		4012 = {
		    add_base_manpower = 1 
			add_base_production = 1
			add_base_tax = 1
		}
		
		ai_chance = {
		    factor = 20
		}
	}
}

# "Success in the Hexcrete Archipelago"
country_event = {
	id = big_mountain.7
	title = big_mountain.7.title
	desc = big_mountain.7.desc
	picture = HEXCRETE_ARCHIPELAGO_eventPicture
	
	fire_only_once = yes
	
	trigger = {
		has_country_modifier = hvy_construction_bmt
		owns_core_province = 4012
		4012 = {
		    has_province_modifier = exper_dev_one
		}
	}

    immediate = { 
	    4012 = {
	        remove_province_modifier = exper_dev_one 
		}
        hidden_effect = {
            if = { limit = { has_global_flag = enable_event_logging } log = "[Root.GetName] - big_mountain.7" }
        }
    }
	
	mean_time_to_happen = {
		months = 85
	}	
	
	option = {	
		name = big_mountain.7.option.a	
		4012 = {
		    add_permanent_province_modifier = {
    		    name =  hex_result
    		    duration = -1  
		    }
		    add_base_manpower = 3
			add_base_production = 3
			add_base_tax = 3			
		}
	}
}

# "A Shift in Focus" (Mobius)
country_event = {
	id = big_mountain.8
	title = big_mountain.8.title
	desc = big_mountain.8.desc
	picture = BIG_MT_THE_SINK_eventPicture
	
	fire_only_once = yes
	
	trigger = {
		tag = FBZ 
		NOT = { has_country_modifier = robo_scorp_bmt }
		NOT = { has_country_modifier = esp_bmt }
	}
	
    immediate = {
        hidden_effect = {
            if = { limit = { has_global_flag = enable_event_logging } log = "[Root.GetName] - big_mountain.8" }
        }
    }
    
	option = {	
		name = big_mountain.8.option.a		
		add_country_modifier = {
    		name =  robo_scorp_bmt
    		duration = -1
		}
		change_primary_culture = robo_scorpion
		add_accepted_culture = robot
		
		ai_chance = {
		    factor = 80
		}
	}
	
	option = {	
		name = big_mountain.8.option.b	  	
		add_country_modifier = {
    		name =  esp_bmt
    		duration = -1
		}
		
		ai_chance = {
		    factor = 20
		}
	}
}

country_event = { # A qualified nation overtakes the Big Mountain and begins emulating parts of the Think Tank
	id = big_mountain.9
	title = big_mountain.9.title
	desc = big_mountain.9.desc
	picture = HEXCRETE_ARCHIPELAGO_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		OR = {
			government = the_think_tank
			government = the_institute
			government = bastardized_institute
			culture_group = robot_group
			religion = robotics
		}
		4010 = {
			country_or_vassal_holds = THIS
		}
		NOT = {
			tag = TNK
			tag = FBZ
			tag = INS
		}
		NOT = { has_country_modifier = loboto_bmt }
		NOT = { has_country_modifier = cyberdog_bmt }
		NOT = { has_country_modifier = hvy_construction_bmt }
		NOT = { has_country_flag = dont_sink_in_the_sink }
	}
	
    immediate = {
        hidden_effect = {
            if = { limit = { has_global_flag = enable_event_logging } log = "[Root.GetName] - big_mountain.9" }
        }
    }
    
	option = {	
		name = big_mountain.9.option.a
		set_country_flag = dont_sink_in_the_sink
		add_country_modifier = {
    		name =  loboto_bmt
    		duration = -1
		}
		
		ai_chance = {
		    factor = 1
		}
	}
	
	option = {	
		name = big_mountain.9.option.b
		set_country_flag = dont_sink_in_the_sink
		add_country_modifier = {
    		name =  cyberdog_bmt
    		duration = -1
		}
		
		ai_chance = {
		    factor = 15
		}
	}
	
	option = {	
		name = big_mountain.9.option.c		
		set_country_flag = dont_sink_in_the_sink
		add_country_modifier = {
    		name =  hvy_construction_bmt
    		duration = -1
		}
		
		ai_chance = {
		    factor = 84
		}
	}
}

country_event = { # Your nation is taking a quantum leap towards scientific domination
	id = big_mountain.10
	title = big_mountain.10.title
	desc = big_mountain.10.desc
	picture = HEXCRETE_ARCHIPELAGO_eventPicture
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			OR = {
				government = administrative_settlement
				government = diplomatic_settlement
				government = military_settlement
				government = administrative_republic
				government = trade_republic
				government = military_republic
				government = federal_republic
				government = new_vegas
				government = dictatorship
				government = theocratic_settlement
				government = commune
			}
		}
		name = big_mountain.10.option.a
		change_government = the_institute
		add_adm_tech = 1
		add_dip_tech = 1

		add_faction = robotics
		add_faction = facilities
		add_faction = advanced_systems
		add_faction = synth_retention_bureau

		add_accepted_culture = robot
		
		ai_chance = {
			factor = 3
			modifier = {
				factor = 0
				NOT = {
					government = administrative_republic
					government = trade_republic
					government = military_republic
					government = federal_republic
					government = new_vegas
					government = dictatorship
					government = theocratic_settlement
				}
			}
		}
	}
	
	option = {
		name = big_mountain.10.option.b
		change_government = bastardized_institute
		add_adm_tech = 1
		add_dip_tech = 1
		add_mil_power = 300
		
		add_faction = robotics
		add_faction = facilities
		add_faction = advanced_systems
		add_faction = synth_retention_bureau

		add_accepted_culture = robot
		
		ai_chance = {
			factor = 2
			modifier = {
				factor = 0
				OR = {
					government = new_vegas
					government = federal_republic
				}
			}
			modifier = {
				factor = 5
				government = dictatorship
			}
			modifier = {
				factor = 10
				tag = GRK
			}
		}
	}
}
	
country_event = { # Ensures Think Tanks are immortal
	id = big_mountain.11
	title = big_mountain.11.title
	desc = big_mountain.11.desc
	picture = BIG_MT_THE_SINK_eventPicture
	
	trigger = {
		government = the_think_tank
		NOT = { has_ruler_flag = is_a_think_tank }
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = big_mountain.11.option.a
		set_ruler_flag = is_a_think_tank
		add_ruler_personality = immortal_personality
		hidden_effect = {
			add_accepted_culture = think_tank
			add_accepted_culture = robot
			add_accepted_culture = lobotomite
			add_accepted_culture = robo_scorpion
			set_ruler_culture = think_tank
			set_heir_culture = think_tank
		}
		hidden_effect = {
			add_heir_personality = immortal_personality
			add_queen_personality = immortal_personality
		}
	}
}