# Discoveries
setup_research = {
    set_variable = {
        which = research_cost_addition
        value = 50
    }
    set_variable = {
        which = research_cost
        value = 100
    }
    set_variable = {
        which = research
        value = 0
    }
    set_country_flag = setup_discoveries
}

researched_discovery = {
    if = {
        limit = {
            check_variable = { 
                which = research
                value = 100
            }
        }
        subtract_variable = {
            which = research
            value = 100
        }
    }
    else = {
        set_variable = {
            which = research
            value = 0
        }
    }
    
    change_variable = {
        which = research_cost
        which = research_cost_addition
    }
}

# Every Two Years
research_update = {
    hidden_effect = {
        if = {
            limit = {
                has_individual_innovation = yes
            }
            add_research_1 = yes
            add_research_1 = yes
        }
        if = {
            limit = {
                has_sponsored_innovation = yes
            }
            add_research_5 = yes
            add_research_1 = yes
        }
        if = {
            limit = {
                has_state_innovation = yes
            }
            add_research_10 = yes
        }
    }
}

add_research_1 = {
    custom_tooltip = INCREASE_RESEARCH_BY_1
    hidden_effect = {
        change_variable = { which = research value = 1 }
    }
}
add_research_5 = {
    custom_tooltip = INCREASE_RESEARCH_BY_5
    hidden_effect = {
        change_variable = { which = research value = 5 }
    }
}
add_research_10 = {
    custom_tooltip = INCREASE_RESEARCH_BY_10
    hidden_effect = {
        change_variable = { which = research value = 10 }
    }
}
add_research_25 = {
    custom_tooltip = INCREASE_RESEARCH_BY_25
    hidden_effect = {
        change_variable = { which = research value = 25 }
    }
}
add_research_100 = {
    custom_tooltip = INCREASE_RESEARCH_BY_100
    hidden_effect = {
        change_variable = { which = research value = 100 }
    }
}
lose_research_1 = {
    custom_tooltip = DECREASE_RESEARCH_BY_1
    hidden_effect = {
        subtract_variable = { which = research value = 1 }
        if = {
            limit = {
                NOT = { check_variable = { research = 0 } }
            }
            set_variable = { which = research value = 0 }
        }
    }
}
lose_research_5 = {
    custom_tooltip = DECREASE_RESEARCH_BY_5
    hidden_effect = {
        subtract_variable = { which = research value = 5 }
        if = {
            limit = {
                NOT = { check_variable = { research = 0 } }
            }
            set_variable = { which = research value = 0 }
        }
    }
}
lose_research_10 = {
    custom_tooltip = DECREASE_RESEARCH_BY_10
    hidden_effect = {
        subtract_variable = { which = research value = 10 }
        if = {
            limit = {
                NOT = { check_variable = { research = 0 } }
            }
            set_variable = { which = research value = 0 }
        }
    }
}
